{"version":3,"sources":["touratte.js","renderer.js"],"names":["maxTextSize","minTextSize","authorsList","_id","name","getRandomNumber","min","max","Math","floor","random","getRandomAuthor","getRandomText","string","result","characters","i","charAt","length","push","join","eventState","state","sendEvent","dispatch","event","document","dispatchEvent","timeout","setTimeout","CustomEvent","detail","text","author","post","querySelector","list","btn","postsCounter","addEventListener","innerHTML","classList","add","remove","hasOwnProperty","renderList","authorsScores"],"mappings":"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","file":"renderer.3db12799.js","sourceRoot":"..","sourcesContent":["\r\nlet maxTextSize = 150;\r\nlet minTextSize = 30;\r\n\r\nconst authorsList = [\r\n    {\r\n        _id: 1,\r\n        name: 'Todd',\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: 'Rob',\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: 'Sevil',\r\n    },\r\n];\r\n\r\nconst getRandomNumber = (min, max) => Math.floor(Math.random() * (max - min)) + min;\r\n\r\nconst getRandomAuthor = () => {\r\n    return authorsList[`${getRandomNumber(0,3)}`]['name'];\r\n}\r\nconst getRandomText = (min, max) => {\r\n    let string = '';\r\n    let result = [];\r\n    let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz,.';\r\n    for (let i = 0; i < getRandomNumber(min, max); i++) {\r\n        for ( let i = 0; i < getRandomNumber(1, 10); i++ ) {  //string from 1 to 10 characters\r\n            string += characters.charAt(Math.floor(Math.random() * characters.length));\r\n        }\r\n        result.push(string);\r\n        string = '';\r\n    }\r\n\r\n    return result.join(' ');\r\n}\r\n\r\nexport let eventState = {state: false};\r\nexport const sendEvent = () => {\r\n    const dispatch = (event) => document.dispatchEvent(event);\r\n    let timeout = () => {\r\n        setTimeout(function() {\r\n            let event = new CustomEvent(\"shout\", {\r\n                detail: { text: getRandomText(minTextSize, maxTextSize),\r\n                          author: getRandomAuthor(), }\r\n            });\r\n            dispatch(event);\r\n            if (eventState.state) {\r\n                timeout();\r\n            }\r\n        }, getRandomNumber(1000, 5000));\r\n    }\r\n    if (eventState.state) { timeout() };\r\n}\r\n\r\n\r\n","\r\nimport { sendEvent } from './touratte.js';\r\nimport { eventState } from './touratte.js';\r\n\r\nlet post = document.querySelector('.post');\r\nlet list = document.querySelector('.list');\r\nlet btn = document.querySelector('.stop-event');\r\nlet postsCounter = {};\r\n\r\ndocument.addEventListener(\"shout\", (event) => {\r\n    post.innerHTML = `<h3>${event.detail.author}</h3>\r\n                      <p>${event.detail.text}</p>`;\r\n    post.classList.add('highlight');\r\n    post.classList.add('with-border');\r\n    list.classList.add('with-border');\r\n    setTimeout(() => {\r\n        post.classList.remove('highlight');\r\n    }, 1000);\r\n    postsCounter.hasOwnProperty(event.detail.author) ?\r\n        postsCounter[event.detail.author] += 1 :\r\n        postsCounter[event.detail.author] = 1;\r\n    renderList();\r\n    }, false);\r\n\r\nconst renderList = () => {\r\n    let authorsScores = [];\r\n    for (let i in postsCounter) {\r\n        authorsScores.push(`\r\n            <li>${i}: ${postsCounter[i]}</li>\r\n        `)\r\n    }\r\n    list.innerHTML = authorsScores.join('');\r\n}\r\nbtn.addEventListener('click', () => {\r\n    if (eventState.state) {\r\n        eventState.state = false;\r\n        btn.innerHTML = 'Send';\r\n    } \r\n    else {\r\n        eventState.state = true;\r\n        btn.innerHTML = 'Stop';\r\n        sendEvent(); \r\n    }    \r\n});\r\n"]}